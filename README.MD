look# ğŸ§  Open Booking Agent (MCP + AI + Calendar + Email OTP)

### â€œAn AI-powered open booking system that verifies, checks availability, and books appointments automatically.â€

---

## ğŸŒ Overview

This project explores a new approach to appointment scheduling â€” using **AI agents and the Model Context Protocol (MCP)** to create an **open, conversational booking system**.

Instead of clicking through forms or waiting for confirmations, users can simply say:

> â€œBook me an appointment tomorrow at 15:00.â€

The agent will:
1. Verify the userâ€™s email via OTP  
2. Check availability in Google Calendar  
3. Book the slot if itâ€™s free  
4. Send back a confirmation link  

All automatically â€” using modular, connectable MCP services.

---

## âœ¨ Key Features

- **AI Conversational Interface**  
  Users interact naturally (â€œtomorrow 3pmâ€, â€œcheck if 10am is freeâ€).

- **Email Verification (OTP)**  
  A secure verification flow using Azure Communication Services.

- **Google Calendar Integration**  
  Real-time free slot detection and event creation.

- **MCP (Model Context Protocol)**  
  Standard interface for connecting external tools and AI models.

- **State-Aware Agent (FSM)**  
  Keeps conversation context and logical flow intact.

- **Modular Microservices**  
  Each service (Agent, Calendar, Email) runs independently and can be extended.

---

## ğŸ§© Architecture

```text
User
  â†“
AI Agent (FastMCP Client)
  â”œâ”€â”€ email_otp_mcp_server  â†’ send_email_otp / verify_email_otp
  â””â”€â”€ calendar_mcp_server   â†’ find_free_slot / create_calendar_event

  âš™ï¸ Tech Stack
Component	Technology
AI Orchestrator	Python 3.11 + FastMCP
Email Service	Azure Communication Services
Calendar Service	Google Calendar API
Timezone & Date Handling	tzlocal, tzdata
Agent State	In-memory FSM
Hosting	Azure Container Apps (optional)
ğŸ—ï¸ Installation
1ï¸âƒ£ Clone the project
git clone https://github.com/<your-username>/open-booking-agent.git
cd open-booking-agent

2ï¸âƒ£ Set up virtual environments

Each service can run separately:

python -m venv .venv
.venv\Scripts\activate   # Windows

3ï¸âƒ£ Install dependencies
Agent
pip install -r agent/requirements.txt

Calendar Server
pip install -r calendar_mcp_server/requirements.txt

Email OTP Server
pip install -r email_otp_server/requirements.txt

ğŸ”‘ Environment Variables
Agent
TIMEZONE=Europe/Brussels
DEFAULT_DURATION_MIN=60
CALENDAR_URL=http://localhost:8080
EMAIL_URL=http://localhost:8090

Calendar MCP Server
CALENDAR_ID=primary
GOOGLE_CLIENT_SECRET=client_secret.json
GOOGLE_TOKEN=token.json
PORT=8080
TIMEZONE=Europe/Brussels

Email OTP MCP Server
AZURE_COMM_CONNECTION_STRING=your_connection_string_here
PORT=8090

ğŸš€ Run Locally

In separate terminals:

1ï¸âƒ£ Start Calendar Server
cd calendar_mcp_server
python mcp_calendar_server.py

2ï¸âƒ£ Start Email OTP Server
cd email_otp_server
python email-otp-mcp-server.py

3ï¸âƒ£ Start Agent
cd agent
python agent_run.py


Then chat interactively:

ğŸ¤– Agent: Hello! What can I do for you today?
You: I want to book an appointment tomorrow at 15:00

ğŸ“… Example Flow
You: I want to book an appointment tomorrow at 15:00
Agent: Please provide your email for verification.
â†’ OTP sent via Azure Communication Services
You: 123456
Agent: Verified! I found a free slot from 15:00 to 16:00 tomorrow. Book it?
You: yes
Agent: Appointment confirmed âœ…
Open in Google Calendar: https://calendar.google.com/...

ğŸ§  Project Philosophy

This project is more than a demo â€” itâ€™s a prototype for open, trustworthy AI systems that can:

Reason like humans

Communicate naturally

Act autonomously and safely

It combines AI reasoning, secure verification, and real-world action through modular microservices.

â€œThe future of software wonâ€™t have buttons â€” it will have conversations.â€

ğŸ§© Next Steps

 Add multi-user and team calendars

 Add natural language duration parsing

 Integrate voice and SMS channels

 Package MCP servers as reusable Docker containers

ğŸ¤ Contributing

Pull requests are welcome!
If youâ€™d like to extend this system (e.g., add a Teams, Outlook, or Notion connector), open a discussion first.

ğŸ’¬ Author

Navid Radkusha
 | StudioStreamX